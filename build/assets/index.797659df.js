import{j as d,r as l,a as f,R as h,b as y}from"./vendor.7d8a4c9d.js";const x=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}};x();const s=d.exports.jsx,m=d.exports.jsxs;function b(){const[u,n]=l.exports.useState(),[a,c]=l.exports.useState(""),[e,t]=l.exports.useState(),i=async o=>{o.preventDefault();const r=new FormData;r.append("image",u),r.append("description",a);const p=await f.post("/api/images",r,{headers:{"Content-Type":"multipart/form-data"}});console.log(p),t(g=>[...g,{file_path:p.data.imagePath,description:a}])};return l.exports.useEffect(()=>{async function o(){const r=await f.get("/api/images");console.log(r),t(r.data.images)}o()},[]),m("div",{className:"App",children:[m("form",{onSubmit:i,children:[s("input",{filename:u,onChange:o=>n(o.target.files[0]),type:"file",accept:"image/*"}),s("input",{onChange:o=>c(o.target.value),type:"text"}),s("button",{type:"submit",children:"Submit"})]}),e&&e.map((o,r)=>s("figure",{children:s("img",{src:o.file_path,alt:o.description})},r))]})}h.render(s(y.StrictMode,{children:s(b,{})}),document.getElementById("root"));
